{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\patri\\\\Desktop\\\\project_TCC\\\\src\\\\Mapa.js\";\nimport React, { useEffect } from 'react';\nimport axios from \"axios\";\n\nfunction Mapa(props) {\n  const getHistoric = async () => {\n    try {\n      const data = await axios.get(\"http://localhost:5000/list_historico\");\n      const cities = data.data;\n      var map = document.getElementById(\"map\");\n      var svgDoc = map.contentDocument;\n      let maxCases = Math.max.apply(Math, cities.map(function (city) {\n        return city.casos;\n      }));\n      let division = maxCases / 30;\n      cities.forEach(city => {\n        let cityName = city._id.replace(/\\ /g, '_');\n\n        let cases = city.casos;\n        let delta = svgDoc.getElementById(cityName);\n\n        delta.onmouseenter = () => {\n          delta.style.stroke = 'black';\n          delta.style.strokeWidth = '196.55514526';\n          let popup = document.getElementById('map-popup');\n          popup.style.display = 'block';\n          popup.innerHTML = `Cidade: ${cityName} <br>Casos: ${cases}`; // console.log(`${cityName}: ${cases}`)\n        };\n\n        delta.onmouseleave = () => {\n          delta.style.stroke = '#646464';\n          delta.style.strokeWidth = '76.55514526';\n        };\n\n        let color;\n\n        if (cases < division) {\n          color = '#00FF00';\n        } else if (cases < division * 2) {\n          color = 'blue';\n        } else if (cases < division * 3) {\n          color = 'yellow';\n        } else if (cases < division * 4) {\n          color = 'orange';\n        } else {\n          color = '#FF0000';\n        }\n\n        delta.style.fill = color;\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  useEffect(() => {\n    setTimeout(() => {\n      getHistoric();\n    }, 1000);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: \"absolute\",\n      left: \"10px\",\n      marginTop: \"10px\",\n      background: \"white\",\n      padding: \"20px\",\n      borderRadius: \"20px\",\n      display: \"none\"\n    },\n    id: \"map-popup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Cidade: S\\xE3o Paulo. Casos: 0.\"), /*#__PURE__*/React.createElement(\"object\", {\n    data: \"/mapa.svg\",\n    type: \"image/svg+xml\",\n    id: \"map\",\n    width: \"100%\",\n    height: \"100%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default Mapa;","map":{"version":3,"sources":["C:/Users/patri/Desktop/project_TCC/src/Mapa.js"],"names":["React","useEffect","axios","Mapa","props","getHistoric","data","get","cities","map","document","getElementById","svgDoc","contentDocument","maxCases","Math","max","apply","city","casos","division","forEach","cityName","_id","replace","cases","delta","onmouseenter","style","stroke","strokeWidth","popup","display","innerHTML","onmouseleave","color","fill","e","console","log","setTimeout","position","left","marginTop","background","padding","borderRadius"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react';\r\nimport axios from \"axios\";\r\n\r\nfunction Mapa(props){\r\n    const getHistoric = async () => {\r\n        try {\r\n            const data = await axios.get(\"http://localhost:5000/list_historico\");\r\n            const cities = data.data;\r\n\r\n            var map = document.getElementById(\"map\");\r\n            var svgDoc = map.contentDocument;\r\n            \r\n            let maxCases = Math.max.apply(Math, cities.map(function(city) { return city.casos; }))\r\n            let division = maxCases / 30;\r\n\r\n            cities.forEach((city) => {\r\n                let cityName = city._id.replace(/\\ /g, '_');\r\n                let cases = city.casos;\r\n                let delta = svgDoc.getElementById(cityName);\r\n\r\n                delta.onmouseenter = () => {\r\n                    delta.style.stroke = 'black'\r\n                    delta.style.strokeWidth = '196.55514526';\r\n                    let popup = document.getElementById('map-popup');\r\n                    popup.style.display = 'block';\r\n                    popup.innerHTML = `Cidade: ${cityName} <br>Casos: ${cases}`\r\n                    // console.log(`${cityName}: ${cases}`)\r\n                }\r\n\r\n                delta.onmouseleave = () => {\r\n                    delta.style.stroke = '#646464'\r\n                    delta.style.strokeWidth = '76.55514526';\r\n                }\r\n\r\n                let color;\r\n                if(cases < division){\r\n                    color = '#00FF00';\r\n                }\r\n                else if(cases < (division * 2)){\r\n                    color = 'blue';\r\n                }\r\n                else if(cases < (division * 3)){\r\n                    color = 'yellow';\r\n                }\r\n                else if(cases < (division * 4)){\r\n                    color = 'orange';\r\n                }\r\n                else{\r\n                    color = '#FF0000';\r\n                }\r\n                delta.style.fill = color;\r\n            })\r\n\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            getHistoric();\r\n        }, 1000);\r\n    }, [])\r\n\r\n    return(\r\n        <div> \r\n            \r\n            {/* <img src={mapa} width=\"100%\" height=\"1000vh\" /> */}\r\n            <div style={{\r\n                position: \"absolute\",\r\n                left: \"10px\",\r\n                marginTop: \"10px\",\r\n                background: \"white\",\r\n                padding: \"20px\",\r\n                borderRadius: \"20px\",\r\n                display: \"none\"\r\n            }} id=\"map-popup\">Cidade: SÃ£o Paulo. Casos: 0.</div>\r\n            <object data=\"/mapa.svg\" type=\"image/svg+xml\"id=\"map\" width=\"100%\" height=\"100%\">\r\n                \r\n            </object>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Mapa;"]},"metadata":{},"sourceType":"module"}