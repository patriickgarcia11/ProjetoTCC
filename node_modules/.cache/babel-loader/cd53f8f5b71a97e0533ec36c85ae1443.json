{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\patri\\\\Desktop\\\\project_TCC\\\\src\\\\Mapa.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport { Col, Row, Container, Spinner } from 'reactstrap';\nimport mapa from \"./mapa.svg\";\n\nfunction Mapa() {\n  const [cidades, setCidade] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const getHistoric = async () => {\n    try {\n      const data = await axios.get(\"http://localhost:5000/list_historico\");\n      const cities = data.data;\n      setLoading(true);\n      var map = document.getElementById(\"map\");\n      var svgDoc = map.contentDocument; // let maxCases = Math.max.apply(Math, cities.map(function(city) { return city.casos; }))\n\n      cities.forEach(city => {\n        let cityName = city._id.replace(/\\ /g, '_');\n\n        let cases = city.casos;\n        let delta = svgDoc.getElementById(cityName);\n\n        delta.onmouseenter = () => {\n          delta.style.stroke = 'black';\n          delta.style.strokeWidth = '196.55514526';\n          let popup = document.getElementById('map-popup');\n          popup.style.display = 'block';\n          popup.innerHTML = `Cidade: ${city._id} <br>Casos: ${cases}`;\n        };\n\n        delta.onmouseleave = () => {\n          delta.style.stroke = '#646464';\n          delta.style.strokeWidth = '76.55514526';\n        };\n\n        let color;\n\n        if (cases < 100) {\n          color = '#ffdfd4';\n        } else if (cases < 1000) {\n          color = '#E9967A';\n        } else if (cases < 10000) {\n          color = '#FA8072';\n        } else if (cases < 50000) {\n          color = '#A52A2A';\n        } else {\n          color = '#8B0000';\n        }\n\n        delta.style.fill = color;\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  useEffect(() => {\n    setTimeout(() => {\n      getHistoric();\n    }, 3000);\n  }, []);\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    style: {\n      position: \"absolute\",\n      left: \"138px\",\n      marginTop: \"30px\",\n      background: \"white\",\n      padding: \"20px\",\n      borderRadius: \"20px\",\n      display: \"none\"\n    },\n    id: \"map-popup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      background: \"#FFF\",\n      position: \"absolute\",\n      left: \"135px\",\n      marginTop: \"500px\",\n      padding: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    colSpan: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, \"Casos\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      background: \"#ffdfd4\",\n      width: \"10px\",\n      height: \"1vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, \"0-99\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      background: \"#E9967A\",\n      width: \"10px\",\n      height: \"1vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, \"100-999\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      background: \"#FA8072\",\n      width: \"10px\",\n      height: \"1vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, \"1000-9999\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      background: \"#A52A2A\",\n      width: \"10px\",\n      height: \"1vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, \"10000-49999\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      background: \"#8B0000\",\n      width: \"10px\",\n      height: \"1vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, \"50000 - \"))), loading ? /*#__PURE__*/React.createElement(\"object\", {\n    data: mapa,\n    type: \"image/svg+xml\",\n    id: \"map\",\n    width: \"100%\",\n    height: \"100%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, \" \") : /*#__PURE__*/React.createElement(Spinner, {\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default Mapa;","map":{"version":3,"sources":["C:/Users/patri/Desktop/project_TCC/src/Mapa.js"],"names":["React","useEffect","useState","axios","Col","Row","Container","Spinner","Mapa","cidades","setCidade","loading","setLoading","getHistoric","data","get","cities","map","document","getElementById","svgDoc","contentDocument","forEach","city","cityName","_id","replace","cases","casos","delta","onmouseenter","style","stroke","strokeWidth","popup","display","innerHTML","onmouseleave","color","fill","e","console","log","setTimeout","position","left","marginTop","background","padding","borderRadius","textAlign","width","height","mapa"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\n\r\nimport axios from \"axios\";\r\nimport { Col, Row, Container, Spinner} from 'reactstrap';\r\nimport mapa from './mapa.svg'\r\n\r\n\r\nfunction Mapa(){\r\n    const [cidades, setCidade] = useState([]);\r\n   const [loading, setLoading] = useState(false);\r\n    const getHistoric = async () => {\r\n        try {\r\n            const data = await axios.get(\"http://localhost:5000/list_historico\");\r\n            const cities = data.data;\r\n            setLoading(true);\r\n\r\n            var map = document.getElementById(\"map\");\r\n            var svgDoc = map.contentDocument;\r\n            \r\n            // let maxCases = Math.max.apply(Math, cities.map(function(city) { return city.casos; }))\r\n          \r\n            cities.forEach((city) => {\r\n                let cityName = city._id.replace(/\\ /g, '_');\r\n                let cases = city.casos;\r\n                let delta = svgDoc.getElementById(cityName);\r\n\r\n                delta.onmouseenter = () => {\r\n                    delta.style.stroke = 'black'\r\n                    delta.style.strokeWidth = '196.55514526';\r\n                    let popup = document.getElementById('map-popup');\r\n                    popup.style.display = 'block';\r\n                    popup.innerHTML = `Cidade: ${city._id} <br>Casos: ${cases}`\r\n                   \r\n                }\r\n\r\n                delta.onmouseleave = () => {\r\n                    delta.style.stroke = '#646464'\r\n                    delta.style.strokeWidth = '76.55514526';\r\n                }\r\n\r\n                let color;\r\n                if(cases < 100){\r\n                    color = '#ffdfd4';\r\n                }\r\n                else if(cases < 1000){\r\n                    color = '#E9967A';\r\n                }\r\n                else if(cases < 10000){\r\n                    color = '#FA8072';\r\n                }\r\n                else if(cases < 50000){\r\n                    color = '#A52A2A';\r\n                }\r\n                else{\r\n                    color = '#8B0000';\r\n                }\r\n                delta.style.fill = color;\r\n            })\r\n\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            getHistoric();\r\n        }, 3000);\r\n    }, [])\r\n\r\n    return(\r\n        <Container> \r\n            \r\n            {/* <img src={mapa} width=\"100%\" height=\"1000vh\" /> */}\r\n            <Row style={{\r\n                position: \"absolute\",\r\n                left: \"138px\",\r\n                marginTop: \"30px\",\r\n                background: \"white\",\r\n                padding: \"20px\",\r\n                borderRadius: \"20px\",\r\n                display: \"none\"\r\n            }} id=\"map-popup\"></Row>\r\n                \r\n            <div style={{background:\"#FFF\", position: \"absolute\", left: \"135px\", marginTop:\"500px\", padding:\"10px\"}}>\r\n                <tr style={{textAlign:\"center\"}}>\r\n                    <td colSpan=\"2\">Casos</td>\r\n                </tr>\r\n                <tr>\r\n                    <td style={{background:\"#ffdfd4\", width:\"10px\", height:\"1vh\",}}></td>\r\n                    <td>0-99</td>\r\n                </tr>\r\n                <tr>\r\n                    <td style={{background:\"#E9967A\", width:\"10px\", height:\"1vh\"}}></td>\r\n                    <td>100-999</td>\r\n                </tr>\r\n                <tr>\r\n                    <td style={{background:\"#FA8072\", width:\"10px\", height:\"1vh\"}}></td>\r\n                    <td>1000-9999</td>\r\n                </tr>\r\n                <tr>\r\n                    <td style={{background:\"#A52A2A\", width:\"10px\", height:\"1vh\"}}></td>\r\n                    <td>10000-49999</td>\r\n                </tr>\r\n                <tr>\r\n                    <td style={{background:\"#8B0000\", width:\"10px\", height:\"1vh\"}}></td>\r\n                    <td>50000 - </td>\r\n                </tr>\r\n            </div>\r\n            \r\n            \r\n\r\n            {loading ? (\r\n        <object data={mapa} type=\"image/svg+xml\" id=\"map\" width=\"100%\" height=\"100%\"> </object>) : (\r\n            <Spinner color=\"primary\" />\r\n        )}\r\n\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Mapa;"]},"metadata":{},"sourceType":"module"}